{
  "test_run": {
    "timestamp": "2025-07-16T17:24:26.237449",
    "base_url": "http://localhost:8001",
    "api_url": "http://localhost:8001/api"
  },
  "results": [
    {
      "category": "Stripe Payment Integration",
      "tests": [
        {
          "name": "Stripe Packages Endpoint (/api/stripe/packages)",
          "method": "GET",
          "url": "http://localhost:8001/api/stripe/packages",
          "status_code": 200,
          "response_time": "21.17ms",
          "passed": true,
          "response_data": {
            "success": true,
            "packages": {
              "starter": {
                "amount": 9.99,
                "currency": "USD",
                "name": "Starter Package"
              },
              "professional": {
                "amount": 29.99,
                "currency": "USD",
                "name": "Professional Package"
              },
              "enterprise": {
                "amount": 99.99,
                "currency": "USD",
                "name": "Enterprise Package"
              }
            }
          },
          "packages_validation": true
        },
        {
          "name": "Legacy Payments Packages Endpoint (/api/payments/packages)",
          "method": "GET",
          "url": "http://localhost:8001/api/payments/packages",
          "status_code": 200,
          "response_time": "20.44ms",
          "passed": true,
          "response_data": {
            "success": true,
            "packages": {
              "starter": {
                "amount": 9.99,
                "currency": "USD",
                "name": "Starter Package"
              },
              "professional": {
                "amount": 29.99,
                "currency": "USD",
                "name": "Professional Package"
              },
              "enterprise": {
                "amount": 99.99,
                "currency": "USD",
                "name": "Enterprise Package"
              }
            }
          },
          "packages_validation": true
        },
        {
          "name": "Stripe Checkout Session (/api/stripe/checkout/session)",
          "method": "POST",
          "url": "http://localhost:8001/api/stripe/checkout/session",
          "status_code": 500,
          "response_time": "21.47ms",
          "passed": false,
          "error": {
            "error": "Failed to create checkout session"
          }
        },
        {
          "name": "Legacy Payments Checkout Session (/api/payments/checkout/session)",
          "method": "POST",
          "url": "http://localhost:8001/api/payments/checkout/session",
          "status_code": 500,
          "response_time": "24.38ms",
          "passed": false,
          "error": {
            "error": "Failed to create checkout session"
          }
        }
      ],
      "summary": {
        "passed": 2,
        "failed": 2,
        "total": 4
      }
    },
    {
      "category": "Instagram Management API",
      "tests": [
        {
          "name": "Instagram Accounts Endpoint",
          "method": "GET",
          "url": "http://localhost:8001/api/instagram-management/accounts",
          "status_code": 200,
          "response_time": "30.46ms",
          "passed": true,
          "response_data": {
            "success": true,
            "accounts": [
              {
                "id": 2,
                "username": "mewayz_business",
                "display_name": "Mewayz Business Solutions",
                "profile_picture_url": "https://example.com/profile.jpg",
                "bio": "Your all-in-one business platform for digital success",
                "followers_count": 0,
                "following_count": 0,
                "media_count": 0,
                "is_active": true,
                "is_verified": null,
                "account_type": null,
                "engagement_rate": 0,
                "formatted_followers": "0",
                "token_expired": false
              }
            ]
          }
        },
        {
          "name": "Instagram Posts Endpoint",
          "method": "GET",
          "url": "http://localhost:8001/api/instagram-management/posts",
          "status_code": 200,
          "response_time": "27.21ms",
          "passed": true,
          "response_data": {
            "success": true,
            "posts": [],
            "pagination": {
              "current_page": 1,
              "total_pages": 1,
              "per_page": 20,
              "total": 0
            }
          }
        },
        {
          "name": "Create Instagram Post (test instagram_account_id column)",
          "method": "POST",
          "url": "http://localhost:8001/api/instagram-management/posts",
          "status_code": 500,
          "response_time": "26.43ms",
          "passed": false,
          "error": {
            "success": false,
            "error": "Failed to create Instagram post"
          }
        },
        {
          "name": "Instagram Analytics",
          "method": "GET",
          "url": "http://localhost:8001/api/instagram-management/analytics",
          "status_code": 200,
          "response_time": "29.49ms",
          "passed": true,
          "response_data": {
            "success": true,
            "analytics": {
              "overview": {
                "total_posts": 0,
                "total_followers": 0,
                "total_engagement": 0,
                "average_engagement": 0,
                "engagement_rate": 0,
                "accounts_count": 1
              },
              "top_posts": [],
              "top_hashtags": [],
              "date_range": "30",
              "period": {
                "start_date": "2025-06-16",
                "end_date": "2025-07-16"
              }
            }
          }
        }
      ],
      "summary": {
        "passed": 3,
        "failed": 1,
        "total": 4
      }
    },
    {
      "category": "Previously Working Systems",
      "tests": [
        {
          "name": "Authentication System",
          "method": "GET",
          "url": "http://localhost:8001/api/auth/me",
          "status_code": 200,
          "response_time": "25.66ms",
          "passed": true,
          "response_data": {
            "success": true,
            "user": {
              "id": 2,
              "provider_id": null,
              "provider_name": null,
              "provider_avatar": null,
              "two_factor_enabled": 0,
              "two_factor_secret": null,
              "two_factor_recovery_codes": null,
              "last_login_at": null,
              "last_login_ip": null,
              "name": "Admin User",
              "email": "admin@example.com",
              "role": 0,
              "email_verified_at": "2025-07-16T16:11:49.000000Z",
              "oauth_provider": null,
              "oauth_id": null,
              "facebook_id": null,
              "google_id": null,
              "settings": null,
              "booking_gallery": null,
              "booking_workhours": null,
              "booking_time_interval": "15",
              "booking_description": null,
              "booking_title": null,
              "booking_hour_type": "12",
              "wallet_settings": null,
              "store": null,
              "last_subscription_uref": null,
              "payment_subscription_ids": null,
              "title": null,
              "avatar": null,
              "_last_project_id": null,
              "_last_edited_bio": null,
              "status": 1,
              "lastActivity": null,
              "lastAgent": null,
              "created_at": "2025-07-16T16:11:49.000000Z",
              "updated_at": "2025-07-16T16:11:49.000000Z",
              "avatar_json": "https://api.dicebear.com/8.x/initials/svg?seed=Admin User"
            }
          }
        },
        {
          "name": "Email Marketing Campaigns",
          "method": "GET",
          "url": "http://localhost:8001/api/email-marketing/campaigns",
          "status_code": 200,
          "response_time": "26.00ms",
          "passed": true,
          "response_data": {
            "success": true,
            "campaigns": [],
            "pagination": {
              "current_page": 1,
              "total_pages": 1,
              "total_items": 0,
              "per_page": 20
            }
          }
        },
        {
          "name": "Team Management",
          "method": "GET",
          "url": "http://localhost:8001/api/team",
          "status_code": 200,
          "response_time": "28.37ms",
          "passed": true,
          "response_data": {
            "success": true,
            "data": {
              "workspace": {
                "id": 1,
                "user_id": 2,
                "name": "Admin User's Workspace",
                "description": null,
                "is_primary": true,
                "settings": "{\"team_setup\":{\"team_members\":[],\"custom_roles\":[],\"collaboration_enabled\":false},\"setup_progress\":{\"team_setup\":true},\"setup_step\":4}",
                "created_at": "2025-07-16T16:13:08.000000Z",
                "updated_at": "2025-07-16T16:13:09.000000Z",
                "selected_goals": null,
                "selected_features": null,
                "team_setup": null,
                "subscription_plan_id": null,
                "branding_config": null,
                "setup_step": "goals",
                "setup_completed": false,
                "setup_completed_at": null
              },
              "owner": {
                "id": 2,
                "provider_id": null,
                "provider_name": null,
                "provider_avatar": null,
                "two_factor_enabled": 0,
                "two_factor_secret": null,
                "two_factor_recovery_codes": null,
                "last_login_at": null,
                "last_login_ip": null,
                "name": "Admin User",
                "email": "admin@example.com",
                "role": 0,
                "email_verified_at": "2025-07-16T16:11:49.000000Z",
                "oauth_provider": null,
                "oauth_id": null,
                "facebook_id": null,
                "google_id": null,
                "settings": null,
                "booking_gallery": null,
                "booking_workhours": null,
                "booking_time_interval": "15",
                "booking_description": null,
                "booking_title": null,
                "booking_hour_type": "12",
                "wallet_settings": null,
                "store": null,
                "last_subscription_uref": null,
                "payment_subscription_ids": null,
                "title": null,
                "avatar": null,
                "_last_project_id": null,
                "_last_edited_bio": null,
                "status": 1,
                "lastActivity": null,
                "lastAgent": null,
                "created_at": "2025-07-16T16:11:49.000000Z",
                "updated_at": "2025-07-16T16:11:49.000000Z",
                "avatar_json": "https://api.dicebear.com/8.x/initials/svg?seed=Admin User"
              },
              "team_members": [],
              "pending_invitations": [
                {
                  "id": 1,
                  "uuid": "4a7e143e-ac80-422e-97a0-90f33c694ca9",
                  "workspace_id": 1,
                  "invited_by": 2,
                  "email": "newteam@mewayz.com",
                  "role": "member",
                  "permissions": [],
                  "status": "pending",
                  "expires_at": "2025-07-23T16:22:19.000000Z",
                  "accepted_at": null,
                  "rejected_at": null,
                  "token": "v8JbqLXUojSVAVnl8FFfDiCLoHiVy34dakMXuYFC5b5zFER9kej5W9pwnuqEyeKr",
                  "created_at": "2025-07-16T16:22:19.000000Z",
                  "updated_at": "2025-07-16T16:22:19.000000Z"
                }
              ],
              "team_size": 1,
              "available_roles": {
                "member": "Member",
                "editor": "Editor",
                "manager": "Manager",
                "admin": "Admin"
              }
            }
          }
        },
        {
          "name": "CRM Contacts",
          "method": "GET",
          "url": "http://localhost:8001/api/crm/contacts",
          "status_code": 200,
          "response_time": "26.35ms",
          "passed": true,
          "response_data": {
            "success": true,
            "data": {
              "current_page": 1,
              "data": [
                {
                  "id": 10,
                  "user_id": 2,
                  "workspace_id": 1,
                  "owner_id": 0,
                  "is_collab": null,
                  "name": "Michael Chen",
                  "email": "michael.chen@techstartup.com",
                  "phone": "+1-555-0123",
                  "company": "Tech Startup Inc",
                  "position": "CEO",
                  "type": "contact",
                  "status": "active",
                  "source": null,
                  "notes": null,
                  "avatar": null,
                  "tags": null,
                  "contact": null,
                  "extra": null,
                  "created_at": "2025-07-16T17:22:26.000000Z",
                  "updated_at": "2025-07-16T17:22:26.000000Z"
                },
                {
                  "id": 9,
                  "user_id": 2,
                  "workspace_id": 1,
                  "owner_id": 0,
                  "is_collab": null,
                  "name": "Michael Chen",
                  "email": "michael.chen@techstartup.com",
                  "phone": "+1-555-0123",
                  "company": "Tech Startup Inc",
                  "position": "CEO",
                  "type": "contact",
                  "status": "active",
                  "source": null,
                  "notes": null,
                  "avatar": null,
                  "tags": null,
                  "contact": null,
                  "extra": null,
                  "created_at": "2025-07-16T16:57:42.000000Z",
                  "updated_at": "2025-07-16T16:57:42.000000Z"
                },
                {
                  "id": 3,
                  "user_id": 2,
                  "workspace_id": 1,
                  "owner_id": 0,
                  "is_collab": null,
                  "name": "Emily Rodriguez",
                  "email": "emily.rodriguez@techcorp.com",
                  "phone": "+1-555-0199",
                  "company": "TechCorp Solutions",
                  "position": "Marketing Director",
                  "type": "contact",
                  "status": "active",
                  "source": null,
                  "notes": "Interested in enterprise package",
                  "avatar": null,
                  "tags": [
                    "high-value",
                    "decision-maker"
                  ],
                  "contact": null,
                  "extra": null,
                  "created_at": "2025-07-16T16:24:57.000000Z",
                  "updated_at": "2025-07-16T16:24:57.000000Z"
                },
                {
                  "id": 2,
                  "user_id": 2,
                  "workspace_id": 1,
                  "owner_id": 0,
                  "is_collab": null,
                  "name": "Michael Chen",
                  "email": "michael.chen@techstartup.com",
                  "phone": "+1-555-0123",
                  "company": "Tech Startup Inc",
                  "position": "CEO",
                  "type": "contact",
                  "status": "active",
                  "source": null,
                  "notes": null,
                  "avatar": null,
                  "tags": null,
                  "contact": null,
                  "extra": null,
                  "created_at": "2025-07-16T16:22:19.000000Z",
                  "updated_at": "2025-07-16T16:22:19.000000Z"
                },
                {
                  "id": 1,
                  "user_id": 2,
                  "workspace_id": 1,
                  "owner_id": 0,
                  "is_collab": null,
                  "name": "Test Contact",
                  "email": "test@example.com",
                  "phone": "123-456-7890",
                  "company": null,
                  "position": null,
                  "type": "contact",
                  "status": "active",
                  "source": null,
                  "notes": null,
                  "avatar": null,
                  "tags": null,
                  "contact": null,
                  "extra": null,
                  "created_at": "2025-07-16T16:20:48.000000Z",
                  "updated_at": "2025-07-16T16:20:48.000000Z"
                }
              ],
              "first_page_url": "http://localhost:8001/api/crm/contacts?page=1",
              "from": 1,
              "last_page": 1,
              "last_page_url": "http://localhost:8001/api/crm/contacts?page=1",
              "links": [
                {
                  "url": null,
                  "label": "&laquo; Previous",
                  "active": false
                },
                {
                  "url": "http://localhost:8001/api/crm/contacts?page=1",
                  "label": "1",
                  "active": true
                },
                {
                  "url": null,
                  "label": "Next &raquo;",
                  "active": false
                }
              ],
              "next_page_url": null,
              "path": "http://localhost:8001/api/crm/contacts",
              "per_page": 20,
              "prev_page_url": null,
              "to": 5,
              "total": 5
            }
          }
        },
        {
          "name": "Analytics Dashboard",
          "method": "GET",
          "url": "http://localhost:8001/api/analytics",
          "status_code": 200,
          "response_time": "23.95ms",
          "passed": true,
          "response_data": {
            "success": true,
            "data": {
              "total_visitors": 15847,
              "page_views": 45632,
              "bounce_rate": "32.5%",
              "avg_session_duration": "4m 32s",
              "conversion_rate": "12.8%",
              "revenue": 89450.75,
              "growth_metrics": {
                "visitors_growth": "+23.5%",
                "revenue_growth": "+18.2%",
                "conversions_growth": "+15.7%"
              },
              "traffic_sources": [
                {
                  "source": "Organic Search",
                  "percentage": 45.2,
                  "visitors": 7163
                },
                {
                  "source": "Social Media",
                  "percentage": 28.3,
                  "visitors": 4485
                },
                {
                  "source": "Direct",
                  "percentage": 15.8,
                  "visitors": 2504
                },
                {
                  "source": "Referral",
                  "percentage": 7.4,
                  "visitors": 1173
                },
                {
                  "source": "Email",
                  "percentage": 3.3,
                  "visitors": 523
                }
              ],
              "charts": {
                "traffic_trend": [
                  {
                    "date": "2025-01-01",
                    "visitors": 1250,
                    "views": 3200
                  },
                  {
                    "date": "2025-01-02",
                    "visitors": 1380,
                    "views": 3580
                  },
                  {
                    "date": "2025-01-03",
                    "visitors": 1520,
                    "views": 4120
                  },
                  {
                    "date": "2025-01-04",
                    "visitors": 1420,
                    "views": 3950
                  },
                  {
                    "date": "2025-01-05",
                    "visitors": 1680,
                    "views": 4450
                  },
                  {
                    "date": "2025-01-06",
                    "visitors": 1550,
                    "views": 4200
                  },
                  {
                    "date": "2025-01-07",
                    "visitors": 1750,
                    "views": 4800
                  }
                ],
                "revenue_trend": [
                  {
                    "date": "2025-01-01",
                    "revenue": 8250.5
                  },
                  {
                    "date": "2025-01-02",
                    "revenue": 9150.25
                  },
                  {
                    "date": "2025-01-03",
                    "revenue": 10450.75
                  },
                  {
                    "date": "2025-01-04",
                    "revenue": 9850
                  },
                  {
                    "date": "2025-01-05",
                    "revenue": 11250.5
                  },
                  {
                    "date": "2025-01-06",
                    "revenue": 10750.25
                  },
                  {
                    "date": "2025-01-07",
                    "revenue": 12450.75
                  }
                ]
              },
              "top_pages": [
                {
                  "page": "/dashboard",
                  "views": 8450,
                  "percentage": 18.5
                },
                {
                  "page": "/dashboard/instagram",
                  "views": 6320,
                  "percentage": 13.8
                },
                {
                  "page": "/dashboard/email",
                  "views": 5870,
                  "percentage": 12.9
                },
                {
                  "page": "/dashboard/analytics",
                  "views": 4950,
                  "percentage": 10.8
                },
                {
                  "page": "/dashboard/crm",
                  "views": 3680,
                  "percentage": 8.1
                }
              ],
              "devices": [
                {
                  "device": "Desktop",
                  "percentage": 52.3,
                  "visitors": 8288
                },
                {
                  "device": "Mobile",
                  "percentage": 38.7,
                  "visitors": 6133
                },
                {
                  "device": "Tablet",
                  "percentage": 9,
                  "visitors": 1426
                }
              ],
              "browsers": [
                {
                  "browser": "Chrome",
                  "percentage": 68.4,
                  "visitors": 10839
                },
                {
                  "browser": "Safari",
                  "percentage": 18.2,
                  "visitors": 2884
                },
                {
                  "browser": "Firefox",
                  "percentage": 8.5,
                  "visitors": 1347
                },
                {
                  "browser": "Edge",
                  "percentage": 4.9,
                  "visitors": 777
                }
              ],
              "workspace_id": 1,
              "last_updated": "2025-07-16T17:24:26.235977Z"
            }
          }
        }
      ],
      "summary": {
        "passed": 5,
        "failed": 0,
        "total": 5
      }
    }
  ]
}